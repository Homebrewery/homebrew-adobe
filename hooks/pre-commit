#! /bin/bash

git diff --cached --name-only --diff-filter=ACM | grep .rb$ |
while read rb
do case $rb in
  Formula*)
    brew audit --strict --online $rb &&
    brew test $rb;;
  Cask*)
    brew cask audit $rb && #--download
    brew cask style $rb;; #--fix
esac
done
